{
  "description": "Returns the execution traces of all transactions included in the given block",
  "errors": [
    {
      "$ref": {
        "#/components/errors/BLOCK_NOT_FOUND": {
          "code": 24,
          "message": "Invalid block hash"
        }
      }
    }
  ],
  "name": "starknet_traceBlockTransactions",
  "params": [
    {
      "description": "The hash of the requested block, or number (height) of the requested block, or a block tag",
      "name": "block_id",
      "required": true,
      "schema": {
        "$ref": {
          "#/components/schemas/BLOCK_ID": {
            "$ref": {
              "./starknet_api_openrpc.json#/components/schemas/BLOCK_ID": {
                "description": "Block hash, number or tag",
                "oneOf": [
                  {
                    "properties": {
                      "block_hash": {
                        "$ref": {
                          "#/components/schemas/BLOCK_HASH": {
                            "$ref": {
                              "#/components/schemas/FELT": {
                                "description": "A field element. represented by at most 63 hex digits",
                                "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                "title": "Field element",
                                "type": "string"
                              }
                            },
                            "title": "Block hash"
                          }
                        },
                        "title": "Block hash"
                      }
                    },
                    "required": [
                      "block_hash"
                    ],
                    "title": "Block hash",
                    "type": "object"
                  },
                  {
                    "properties": {
                      "block_number": {
                        "$ref": {
                          "#/components/schemas/BLOCK_NUMBER": {
                            "description": "The block's number (its height)",
                            "minimum": 0,
                            "title": "Block number",
                            "type": "integer"
                          }
                        },
                        "title": "Block number"
                      }
                    },
                    "required": [
                      "block_number"
                    ],
                    "title": "Block number",
                    "type": "object"
                  },
                  {
                    "$ref": {
                      "#/components/schemas/BLOCK_TAG": {
                        "description": "A tag specifying a dynamic reference to a block",
                        "enum": [
                          "latest",
                          "pending"
                        ],
                        "title": "Block tag",
                        "type": "string"
                      }
                    },
                    "title": "Block tag"
                  }
                ],
                "title": "Block id"
              }
            }
          }
        }
      }
    }
  ],
  "result": {
    "description": "The traces of all transactions in the block",
    "name": "traces",
    "schema": {
      "items": {
        "description": "A single pair of transaction hash and corresponding trace",
        "properties": {
          "trace_root": {
            "$ref": {
              "#/components/schemas/TRANSACTION_TRACE": {
                "oneOf": [
                  {
                    "description": "the execution trace of an invoke transaction",
                    "name": "INVOKE_TXN_TRACE",
                    "properties": {
                      "execute_invocation": {
                        "description": "the trace of the __execute__ call or constructor call, depending on the transaction type (none for declare transactions)",
                        "oneOf": [
                          {
                            "$ref": {
                              "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                            }
                          },
                          {
                            "properties": {
                              "revert_reason": {
                                "description": "the revert reason for the failed execution",
                                "name": "revert reason",
                                "type": "string"
                              }
                            },
                            "type": "object"
                          }
                        ]
                      },
                      "fee_transfer_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        }
                      },
                      "state_diff": {
                        "$ref": {
                          "#/components/schemas/STATE_DIFF": {
                            "$ref": {
                              "./api/starknet_api_openrpc.json#/components/schemas/STATE_DIFF": {
                                "description": "The change in state applied in this block, given as a mapping of addresses to the new values and/or new contracts",
                                "properties": {
                                  "declared_classes": {
                                    "items": {
                                      "description": "The declared class hash and compiled class hash",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The hash of the declared class",
                                          "title": "Class hash"
                                        },
                                        "compiled_class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The Cairo assembly hash corresponding to the declared class",
                                          "title": "Compiled class hash"
                                        }
                                      },
                                      "title": "New classes",
                                      "type": "object"
                                    },
                                    "title": "Declared classes",
                                    "type": "array"
                                  },
                                  "deployed_contracts": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/DEPLOYED_CONTRACT_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The address of the contract",
                                              "title": "Address"
                                            },
                                            "class_hash": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The hash of the contract code",
                                              "title": "Class hash"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "class_hash"
                                          ],
                                          "title": "Deployed contract item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "A new contract deployed as part of the state update"
                                    },
                                    "title": "Deployed contracts",
                                    "type": "array"
                                  },
                                  "deprecated_declared_classes": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/FELT": {
                                          "description": "A field element. represented by at most 63 hex digits",
                                          "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                          "title": "Field element",
                                          "type": "string"
                                        }
                                      },
                                      "description": "The hash of the declared class"
                                    },
                                    "title": "Deprecated declared classes",
                                    "type": "array"
                                  },
                                  "nonces": {
                                    "items": {
                                      "description": "The updated nonce per contract address",
                                      "properties": {
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract",
                                          "title": "Contract address"
                                        },
                                        "nonce": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The nonce for the given address at the end of the block",
                                          "title": "Nonce"
                                        }
                                      },
                                      "title": "Nonce update",
                                      "type": "object"
                                    },
                                    "title": "Nonces",
                                    "type": "array"
                                  },
                                  "replaced_classes": {
                                    "items": {
                                      "description": "The list of contracts whose class was replaced",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The new class hash",
                                          "title": "Class hash"
                                        },
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract whose class was replaced",
                                          "title": "Contract address"
                                        }
                                      },
                                      "title": "Replaced class",
                                      "type": "object"
                                    },
                                    "title": "Replaced classes",
                                    "type": "array"
                                  },
                                  "storage_diffs": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/CONTRACT_STORAGE_DIFF_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The contract address for which the storage changed",
                                              "title": "Address"
                                            },
                                            "storage_entries": {
                                              "description": "The changes in the storage of the contract",
                                              "items": {
                                                "properties": {
                                                  "key": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The key of the changed value",
                                                    "title": "Key"
                                                  },
                                                  "value": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The new value applied to the given address",
                                                    "title": "Value"
                                                  }
                                                },
                                                "title": "Storage diff item",
                                                "type": "object"
                                              },
                                              "title": "Storage entries",
                                              "type": "array"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "storage_entries"
                                          ],
                                          "title": "Contract storage diff item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "The changes in the storage per contract address"
                                    },
                                    "title": "Storage diffs",
                                    "type": "array"
                                  }
                                },
                                "required": [
                                  "storage_diffs",
                                  "deprecated_declared_classes",
                                  "declared_classes",
                                  "replaced_classes",
                                  "deployed_contracts",
                                  "nonces"
                                ],
                                "type": "object"
                              }
                            }
                          }
                        },
                        "description": "the state diffs induced by the transaction",
                        "title": "state_diff"
                      },
                      "type": {
                        "enum": [
                          "INVOKE"
                        ],
                        "title": "Type",
                        "type": "string"
                      },
                      "validate_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        }
                      }
                    },
                    "required": [
                      "type",
                      "execute_invocation"
                    ],
                    "type": "object"
                  },
                  {
                    "description": "the execution trace of a declare transaction",
                    "name": "DECLARE_TXN_TRACE",
                    "properties": {
                      "fee_transfer_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        }
                      },
                      "state_diff": {
                        "$ref": {
                          "#/components/schemas/STATE_DIFF": {
                            "$ref": {
                              "./api/starknet_api_openrpc.json#/components/schemas/STATE_DIFF": {
                                "description": "The change in state applied in this block, given as a mapping of addresses to the new values and/or new contracts",
                                "properties": {
                                  "declared_classes": {
                                    "items": {
                                      "description": "The declared class hash and compiled class hash",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The hash of the declared class",
                                          "title": "Class hash"
                                        },
                                        "compiled_class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The Cairo assembly hash corresponding to the declared class",
                                          "title": "Compiled class hash"
                                        }
                                      },
                                      "title": "New classes",
                                      "type": "object"
                                    },
                                    "title": "Declared classes",
                                    "type": "array"
                                  },
                                  "deployed_contracts": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/DEPLOYED_CONTRACT_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The address of the contract",
                                              "title": "Address"
                                            },
                                            "class_hash": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The hash of the contract code",
                                              "title": "Class hash"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "class_hash"
                                          ],
                                          "title": "Deployed contract item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "A new contract deployed as part of the state update"
                                    },
                                    "title": "Deployed contracts",
                                    "type": "array"
                                  },
                                  "deprecated_declared_classes": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/FELT": {
                                          "description": "A field element. represented by at most 63 hex digits",
                                          "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                          "title": "Field element",
                                          "type": "string"
                                        }
                                      },
                                      "description": "The hash of the declared class"
                                    },
                                    "title": "Deprecated declared classes",
                                    "type": "array"
                                  },
                                  "nonces": {
                                    "items": {
                                      "description": "The updated nonce per contract address",
                                      "properties": {
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract",
                                          "title": "Contract address"
                                        },
                                        "nonce": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The nonce for the given address at the end of the block",
                                          "title": "Nonce"
                                        }
                                      },
                                      "title": "Nonce update",
                                      "type": "object"
                                    },
                                    "title": "Nonces",
                                    "type": "array"
                                  },
                                  "replaced_classes": {
                                    "items": {
                                      "description": "The list of contracts whose class was replaced",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The new class hash",
                                          "title": "Class hash"
                                        },
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract whose class was replaced",
                                          "title": "Contract address"
                                        }
                                      },
                                      "title": "Replaced class",
                                      "type": "object"
                                    },
                                    "title": "Replaced classes",
                                    "type": "array"
                                  },
                                  "storage_diffs": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/CONTRACT_STORAGE_DIFF_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The contract address for which the storage changed",
                                              "title": "Address"
                                            },
                                            "storage_entries": {
                                              "description": "The changes in the storage of the contract",
                                              "items": {
                                                "properties": {
                                                  "key": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The key of the changed value",
                                                    "title": "Key"
                                                  },
                                                  "value": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The new value applied to the given address",
                                                    "title": "Value"
                                                  }
                                                },
                                                "title": "Storage diff item",
                                                "type": "object"
                                              },
                                              "title": "Storage entries",
                                              "type": "array"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "storage_entries"
                                          ],
                                          "title": "Contract storage diff item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "The changes in the storage per contract address"
                                    },
                                    "title": "Storage diffs",
                                    "type": "array"
                                  }
                                },
                                "required": [
                                  "storage_diffs",
                                  "deprecated_declared_classes",
                                  "declared_classes",
                                  "replaced_classes",
                                  "deployed_contracts",
                                  "nonces"
                                ],
                                "type": "object"
                              }
                            }
                          }
                        },
                        "description": "the state diffs induced by the transaction",
                        "title": "state_diff"
                      },
                      "type": {
                        "enum": [
                          "DECLARE"
                        ],
                        "title": "Type",
                        "type": "string"
                      },
                      "validate_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        }
                      }
                    },
                    "required": [
                      "type"
                    ],
                    "type": "object"
                  },
                  {
                    "description": "the execution trace of a deploy account transaction",
                    "name": "DEPLOY_ACCOUNT_TXN_TRACE",
                    "properties": {
                      "constructor_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        },
                        "description": "the trace of the __execute__ call or constructor call, depending on the transaction type (none for declare transactions)"
                      },
                      "fee_transfer_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        }
                      },
                      "state_diff": {
                        "$ref": {
                          "#/components/schemas/STATE_DIFF": {
                            "$ref": {
                              "./api/starknet_api_openrpc.json#/components/schemas/STATE_DIFF": {
                                "description": "The change in state applied in this block, given as a mapping of addresses to the new values and/or new contracts",
                                "properties": {
                                  "declared_classes": {
                                    "items": {
                                      "description": "The declared class hash and compiled class hash",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The hash of the declared class",
                                          "title": "Class hash"
                                        },
                                        "compiled_class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The Cairo assembly hash corresponding to the declared class",
                                          "title": "Compiled class hash"
                                        }
                                      },
                                      "title": "New classes",
                                      "type": "object"
                                    },
                                    "title": "Declared classes",
                                    "type": "array"
                                  },
                                  "deployed_contracts": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/DEPLOYED_CONTRACT_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The address of the contract",
                                              "title": "Address"
                                            },
                                            "class_hash": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The hash of the contract code",
                                              "title": "Class hash"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "class_hash"
                                          ],
                                          "title": "Deployed contract item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "A new contract deployed as part of the state update"
                                    },
                                    "title": "Deployed contracts",
                                    "type": "array"
                                  },
                                  "deprecated_declared_classes": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/FELT": {
                                          "description": "A field element. represented by at most 63 hex digits",
                                          "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                          "title": "Field element",
                                          "type": "string"
                                        }
                                      },
                                      "description": "The hash of the declared class"
                                    },
                                    "title": "Deprecated declared classes",
                                    "type": "array"
                                  },
                                  "nonces": {
                                    "items": {
                                      "description": "The updated nonce per contract address",
                                      "properties": {
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract",
                                          "title": "Contract address"
                                        },
                                        "nonce": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The nonce for the given address at the end of the block",
                                          "title": "Nonce"
                                        }
                                      },
                                      "title": "Nonce update",
                                      "type": "object"
                                    },
                                    "title": "Nonces",
                                    "type": "array"
                                  },
                                  "replaced_classes": {
                                    "items": {
                                      "description": "The list of contracts whose class was replaced",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The new class hash",
                                          "title": "Class hash"
                                        },
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract whose class was replaced",
                                          "title": "Contract address"
                                        }
                                      },
                                      "title": "Replaced class",
                                      "type": "object"
                                    },
                                    "title": "Replaced classes",
                                    "type": "array"
                                  },
                                  "storage_diffs": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/CONTRACT_STORAGE_DIFF_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The contract address for which the storage changed",
                                              "title": "Address"
                                            },
                                            "storage_entries": {
                                              "description": "The changes in the storage of the contract",
                                              "items": {
                                                "properties": {
                                                  "key": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The key of the changed value",
                                                    "title": "Key"
                                                  },
                                                  "value": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The new value applied to the given address",
                                                    "title": "Value"
                                                  }
                                                },
                                                "title": "Storage diff item",
                                                "type": "object"
                                              },
                                              "title": "Storage entries",
                                              "type": "array"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "storage_entries"
                                          ],
                                          "title": "Contract storage diff item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "The changes in the storage per contract address"
                                    },
                                    "title": "Storage diffs",
                                    "type": "array"
                                  }
                                },
                                "required": [
                                  "storage_diffs",
                                  "deprecated_declared_classes",
                                  "declared_classes",
                                  "replaced_classes",
                                  "deployed_contracts",
                                  "nonces"
                                ],
                                "type": "object"
                              }
                            }
                          }
                        },
                        "description": "the state diffs induced by the transaction",
                        "title": "state_diff"
                      },
                      "type": {
                        "enum": [
                          "DEPLOY_ACCOUNT"
                        ],
                        "title": "Type",
                        "type": "string"
                      },
                      "validate_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        }
                      }
                    },
                    "required": [
                      "type",
                      "constructor_invocation"
                    ],
                    "type": "object"
                  },
                  {
                    "description": "the execution trace of an L1 handler transaction",
                    "name": "L1_HANDLER_TXN_TRACE",
                    "properties": {
                      "function_invocation": {
                        "$ref": {
                          "#/components/schemas/FUNCTION_INVOCATION": "_RECURSIVE_TYPE_SKIPPED_"
                        },
                        "description": "the trace of the __execute__ call or constructor call, depending on the transaction type (none for declare transactions)"
                      },
                      "state_diff": {
                        "$ref": {
                          "#/components/schemas/STATE_DIFF": {
                            "$ref": {
                              "./api/starknet_api_openrpc.json#/components/schemas/STATE_DIFF": {
                                "description": "The change in state applied in this block, given as a mapping of addresses to the new values and/or new contracts",
                                "properties": {
                                  "declared_classes": {
                                    "items": {
                                      "description": "The declared class hash and compiled class hash",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The hash of the declared class",
                                          "title": "Class hash"
                                        },
                                        "compiled_class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The Cairo assembly hash corresponding to the declared class",
                                          "title": "Compiled class hash"
                                        }
                                      },
                                      "title": "New classes",
                                      "type": "object"
                                    },
                                    "title": "Declared classes",
                                    "type": "array"
                                  },
                                  "deployed_contracts": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/DEPLOYED_CONTRACT_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The address of the contract",
                                              "title": "Address"
                                            },
                                            "class_hash": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The hash of the contract code",
                                              "title": "Class hash"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "class_hash"
                                          ],
                                          "title": "Deployed contract item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "A new contract deployed as part of the state update"
                                    },
                                    "title": "Deployed contracts",
                                    "type": "array"
                                  },
                                  "deprecated_declared_classes": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/FELT": {
                                          "description": "A field element. represented by at most 63 hex digits",
                                          "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                          "title": "Field element",
                                          "type": "string"
                                        }
                                      },
                                      "description": "The hash of the declared class"
                                    },
                                    "title": "Deprecated declared classes",
                                    "type": "array"
                                  },
                                  "nonces": {
                                    "items": {
                                      "description": "The updated nonce per contract address",
                                      "properties": {
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract",
                                          "title": "Contract address"
                                        },
                                        "nonce": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The nonce for the given address at the end of the block",
                                          "title": "Nonce"
                                        }
                                      },
                                      "title": "Nonce update",
                                      "type": "object"
                                    },
                                    "title": "Nonces",
                                    "type": "array"
                                  },
                                  "replaced_classes": {
                                    "items": {
                                      "description": "The list of contracts whose class was replaced",
                                      "properties": {
                                        "class_hash": {
                                          "$ref": {
                                            "#/components/schemas/FELT": {
                                              "description": "A field element. represented by at most 63 hex digits",
                                              "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                              "title": "Field element",
                                              "type": "string"
                                            }
                                          },
                                          "description": "The new class hash",
                                          "title": "Class hash"
                                        },
                                        "contract_address": {
                                          "$ref": {
                                            "#/components/schemas/ADDRESS": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "title": "Address"
                                            }
                                          },
                                          "description": "The address of the contract whose class was replaced",
                                          "title": "Contract address"
                                        }
                                      },
                                      "title": "Replaced class",
                                      "type": "object"
                                    },
                                    "title": "Replaced classes",
                                    "type": "array"
                                  },
                                  "storage_diffs": {
                                    "items": {
                                      "$ref": {
                                        "#/components/schemas/CONTRACT_STORAGE_DIFF_ITEM": {
                                          "properties": {
                                            "address": {
                                              "$ref": {
                                                "#/components/schemas/FELT": {
                                                  "description": "A field element. represented by at most 63 hex digits",
                                                  "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                  "title": "Field element",
                                                  "type": "string"
                                                }
                                              },
                                              "description": "The contract address for which the storage changed",
                                              "title": "Address"
                                            },
                                            "storage_entries": {
                                              "description": "The changes in the storage of the contract",
                                              "items": {
                                                "properties": {
                                                  "key": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The key of the changed value",
                                                    "title": "Key"
                                                  },
                                                  "value": {
                                                    "$ref": {
                                                      "#/components/schemas/FELT": {
                                                        "description": "A field element. represented by at most 63 hex digits",
                                                        "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                                                        "title": "Field element",
                                                        "type": "string"
                                                      }
                                                    },
                                                    "description": "The new value applied to the given address",
                                                    "title": "Value"
                                                  }
                                                },
                                                "title": "Storage diff item",
                                                "type": "object"
                                              },
                                              "title": "Storage entries",
                                              "type": "array"
                                            }
                                          },
                                          "required": [
                                            "address",
                                            "storage_entries"
                                          ],
                                          "title": "Contract storage diff item",
                                          "type": "object"
                                        }
                                      },
                                      "description": "The changes in the storage per contract address"
                                    },
                                    "title": "Storage diffs",
                                    "type": "array"
                                  }
                                },
                                "required": [
                                  "storage_diffs",
                                  "deprecated_declared_classes",
                                  "declared_classes",
                                  "replaced_classes",
                                  "deployed_contracts",
                                  "nonces"
                                ],
                                "type": "object"
                              }
                            }
                          }
                        },
                        "description": "the state diffs induced by the transaction",
                        "title": "state_diff"
                      },
                      "type": {
                        "enum": [
                          "L1_HANDLER"
                        ],
                        "title": "Type",
                        "type": "string"
                      }
                    },
                    "required": [
                      "type",
                      "function_invocation"
                    ],
                    "type": "object"
                  }
                ]
              }
            }
          },
          "transaction_hash": {
            "$ref": {
              "#/components/schemas/FELT": {
                "$ref": {
                  "./starknet_api_openrpc.json#/components/schemas/FELT": {
                    "description": "A field element. represented by at most 63 hex digits",
                    "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$",
                    "title": "Field element",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "type": "object"
      },
      "type": "array"
    }
  },
  "summary": "Retrieve traces for all transactions in the given block"
}